@model OdeToFood.Data.Models.Restaurant
@{
    ViewBag.Title = "title";
}

<h2>Tables booking</h2>
<div class="row">



    <div class="col-ld-6 col-md-6" style="background-color: lightseagreen; height: 420px; margin-top: 20px; padding: 5px; border-radius: 10px">

        @foreach (var table in Model.Tables)
        {
            if (table.IsFree)
            {
                <div class="col-ld-4 col-md-4 text-center"><span id="1" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 1, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em;">@table.Id</span></div>
            }
            else
            {
                <div class="col-ld-4 col-md-4 text-center"><span id="1" style="font-size: 6em;color:black">@table.Id</span></div>
            }
        }
        
@*        <div class="col-ld-4 col-md-4 text-center"><span id="1" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 1, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em;">1</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="2" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 2, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">2</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="3" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 3, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">3</span></div>*@
@**@
@**@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="4" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 4, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em;">4</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="5" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 5, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">5</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="6" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 6, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">6</span></div>*@
@**@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="7" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 7, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em;">7</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="8" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 8, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">8</span></div>*@
@*        <div class="col-ld-4 col-md-4 text-center"><span id="9" data-url="@Url.Action("PlaceOrder", "BookTable", new {id = 9, restaurantId = TempData["RestaurantId"]})" class="glyph" style="font-size: 6em">9</span></div>*@
    </div>
    <div class="col-ld-6 col-md-6 msmqpartial" style="background-color: ghostwhite; height: 420px; margin-top: 20px; padding: 30px; border-radius: 10px">

    </div>
</div>


@Scripts.Render("~/bundles/jquery")
<script>
    jQuery(document).ready(function () {
        $(".glyph").click(function () {
            $(this).attr("data-click", "clicked");
            $(this).css("color", "white");

        });

        $(".glyph").mouseover(function () {
            if (!($(this).attr("data-click"))) {
                $(this).css("color", "white");
                $(this).css("cursor", "hand");
            }
        }).mouseout(function () {
            if (!($(this).attr("data-click"))) {
                $(this).css("color", "#333");
                $(this).css("cursor", "pointer");
            }
        });



        $('span.glyph').click(function () {
            $.ajax({
                url: $(this).data('url'),
                type: 'GET',
                cache: false,
                success: function (result) {
                    $('.msmqpartial').html(result);
                }
            });
            return false;
        });
    });
</script>
