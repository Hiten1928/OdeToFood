@model OdeToFood.Data.Models.Restaurant
@{
    ViewBag.Title = "title";
}

<h2>Tables booking</h2>
<div class="row">



    <div class="col-ld-6 col-md-6" style="background-color: lightseagreen; height: 420px; margin-top: 20px; padding: 5px; border-radius: 10px">


        @foreach (var table in Model.Tables)
        {
            <div class="col-ld-4 col-md-4 text-center tableBg"><span id="1" data-url="@Url.Action("PlaceOrder", "BookTable", new { id = table.Id, restaurantId = TempData["RestaurantId"] })" class="glyph" style="font-size: 6em;">@table.TableNumber</span></div>
        }

    </div>
    <div class="col-ld-6 col-md-6 msmqpartial" style="background-color: ghostwhite; height: 420px; margin-top: 20px; padding: 30px; border-radius: 10px">

    </div>
</div>


@Scripts.Render("~/bundles/jquery")
<script>
    jQuery(document).ready(function () {
        $(".glyph").click(function () {
            $(".glyph").css("color", "#333");
            var allGlyphs = $(".glyph");
            for (var i = 0; i < allGlyphs.length; i++) {
                $(allGlyphs[i]).parent().css("background", "transparent");
            }
            $(this).attr("data-click", "clicked");
            $(this).css("color", "white");
            $(this).parent().css({"background": "#00ced1", "border-radius":"10px"});

        });

        $(".glyph").parent().mouseover(function () {
            if (!($(this).attr("data-click"))) {
                $(this).css("color", "white");
                $(this).css("cursor", "hand");
            }
        }).mouseout(function () {
            if (!($(this).attr("data-click"))) {
                $(this).css("color", "#333");
                $(this).css("cursor", "pointer");
            }
        });



        $('span.glyph').click(function () {
            $.ajax({
                url: $(this).data('url'),
                type: 'GET',
                cache: false,
                success: function (result) {
                    $('.msmqpartial').html(result);
                }
            });
            return false;
        });
    });
</script>
